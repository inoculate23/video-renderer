<html>

<head>
  <script type="module" src=".//lib/browser/filters/blend.js"></script>
  <script type="module" src=".//lib/browser/canvasPool.js"></script>
  <script type="module" src=".//lib/browser/canvasPool.js"></script>
  <script type="module" src=".//lib/browser/index.js"></script>
  <script type="module" src=".//lib/browser/filterComplex.js"></script>
  <script type="module" src=".//lib/browser/filters/extractAlpha.js"></script>
  <script type="module" src=".//lib/browser/filters/scale.js"></script>
  <script type="module" src=".//lib/browser/filters/split.js"></script>
  <script type="module" src=".//lib/browser/filters/format.js"></script>
  <script type="module" src=".//lib/browser/filters/trim.js"></script>
  <script type="module" src=".//lib/browser/filters/overlay.js"></script>
  <script type="module" src=".//lib/browser/filters/concat.js"></script>
  <script type="module">
 import {spawn} from 'child_process';
import {extractAlpha, filterComplex} from './lib/node/filterComplex.js';

const ffmpegProc = spawn('ffmpeg', [
  '-i',
  __dirname + '/loop.gif',
  '-movflags',
  'faststart',
  // pix_fmt is needed for converting gifs
  '-pix_fmt',
  'yuv420p',
  '-filter_complex',
  filterComplex(extractAlpha()),
  __dirname + '/loop.mp4',
]);


    
  
</script> 
</head>
<body>
  <canvas></canvas>
  <video src="assets/generated/loop.mp4" autoplay controls loop mute></video>
</body>
</html>